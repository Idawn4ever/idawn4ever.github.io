<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Home</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  :root{--bg:#000;--fg:lime;}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);font-family:monospace}
  .top{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.03)}
  .brand{font-weight:700}
  .userbtn{cursor:pointer;padding:6px 10px;border:1px solid var(--fg);border-radius:6px;background:transparent}
  .sidebar{position:fixed;right:-260px;top:0;height:100%;width:260px;background:#050505;border-left:1px solid rgba(255,255,255,0.03);padding:16px;transition:right .3s ease;z-index:100;visibility:hidden;opacity:0}
  .sidebar.show{right:0;visibility:visible;opacity:1}
  .overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:99}
  .overlay.show{display:block}
  .sidebar button{display:block;margin-top:16px;padding:8px;border:none;background:var(--fg);color:#000;cursor:pointer;width:100%}
  .content{padding:24px}
</style>

<script>
function getCookie(name){
  const c = document.cookie.split('; ').find(r=>r.startsWith(name+'='))
  if(!c) return null
  try{ return JSON.parse(decodeURIComponent(c.split('=')[1])) }catch(e){ return null }
}
function clearCookie(name){ document.cookie = name + '=; path=/; max-age=0' }

document.addEventListener('DOMContentLoaded', ()=>{
  const user = getCookie('user')
  if(!user) return location.href='index.html'
  uname.textContent = user.username
  uname2.textContent = user.username

  const sidebar = document.getElementById('sidebar')
  const overlay = document.getElementById('overlay')

  const toggleSidebar = (show)=>{
    sidebar.classList.toggle('show', show)
    overlay.classList.toggle('show', show)
  }

  userBtn.addEventListener('click', ()=> toggleSidebar(!sidebar.classList.contains('show')))
  overlay.addEventListener('click', ()=> toggleSidebar(false))

  logout.addEventListener('click', ()=>{
    clearCookie('user')
    location.href='index.html'
  })
})
</script>
</head>
<body>
  <div class="top">
    <div class="brand">My Site</div>
    <div>
      <button id="userBtn" class="userbtn"><span id="uname"></span></button>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div>Account</div>
    <div style="margin-top:10px">Logged in as <strong id="uname2"></strong></div>
    <button id="logout">Log Out</button>
  </div>

  <div id="overlay" class="overlay"></div>

  <div class="content">
    <h1>Home</h1>
    <p> Welcome to the Dark Market. </p>
  </div>
</body>
</html>
